(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28e0a145"],{"5f47":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(i){t.isLoading=i}}}),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 mt-4"},[e("div",{staticClass:"w-100 bg-cover",staticStyle:{height:"300px"},style:{backgroundImage:"url("+t.product.imageUrl+")"}})]),e("div",{staticClass:"col-md-6 my-4"},[e("h1",{staticClass:"h2 mb-3 text-dark"},[t._v(t._s(t.product.title))]),e("span",{staticClass:"badge badge-desktop text-content p-2 mb-3"},[t._v(t._s(t.product.category))]),e("p",{staticClass:"mb-0 text-content mb-3"},[t._v(t._s(t.product.content))]),e("div",{staticClass:"d-flex justify-content-end align-items-baseline mb-3"},[t.product.price===t.product.origin_price?e("div",{staticClass:"h4 mb-0 text-right"},[t._v(t._s(t.product.origin_price*t.qty)+" 元")]):t._e(),t.product.price!==t.product.origin_price?e("del",{staticClass:"h6 text-del"},[t._v("原價 "+t._s(t.product.origin_price*t.qty)+" 元")]):t._e(),t.product.price!==t.product.origin_price?e("div",{staticClass:"h4 mb-0 ml-auto text-danger"},[t._v("現在只要 "+t._s(t.product.price*t.qty)+" 元")]):t._e()]),e("select",{staticClass:"form-control mb-4",attrs:{name:""},on:{change:t.changeQty}},t._l(10,(function(i){return e("option",{key:i,domProps:{value:i}},[t._v(" 選購 "+t._s(i)+" "+t._s(t.product.unit)+" ")])})),0),e("div",{staticClass:"d-flex"},[e("button",{staticClass:"btn btn-outline-content btn-block",attrs:{type:"button"},on:{click:t.goBack}},[t._v("返回")]),e("button",{staticClass:"btn btn-primary btn-block mt-0 ml-2",attrs:{type:"button"},on:{click:function(i){return t.addtoCart(t.product.id)}}},[t.isLoading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),e("i",{staticClass:"fas fa-shopping-cart"}),t._v(" 加到購物車 ")])])]),e("div",{staticClass:"col",staticStyle:{"margin-top":"100px"}},[e("h2",{staticClass:" text-center mb-4"},[t._v("現正特價")]),e("div",{staticClass:"swiper-container mb-4"},[e("div",{staticClass:"swiper-wrapper"},t._l(t.discountProducts,(function(i){return e("div",{staticClass:"swiper-slide"},[e("div",{staticClass:"card border-0 shadow-sm h-100 card-hover"},[e("div",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.changeProduct(i.id)}}},[e("div",{staticClass:"bg-cover card-img",style:{backgroundImage:"url("+i.imageUrl+")"}}),e("div",{staticClass:"card-body d-none d-md-block"},[e("span",{staticClass:"badge badge-desktop text-content p-2 float-right ml-2"},[t._v(t._s(i.category))]),e("h5",{staticClass:"card-title text-dark h4"},[t._v(t._s(i.title))]),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[i.price===i.origin_price?e("div",{staticClass:"h5"},[t._v(" "+t._s(t._f("currency")(i.origin_price))+" ")]):t._e(),i.price!==i.origin_price?e("del",{staticClass:"h6 text-del"},[t._v(" "+t._s(t._f("currency")(i.origin_price))+" ")]):t._e(),i.price!==i.origin_price?e("div",{staticClass:"h5"},[t._v(" "+t._s(t._f("currency")(i.price))+" ")]):t._e()])]),e("div",{staticClass:"card-body d-md-none p-2"},[e("h5",{staticClass:"card-title text-dark h6 text-truncate"},[t._v(t._s(i.title))]),e("del",{staticClass:"h6 text-del"},[t._v(" "+t._s(t._f("currency")(i.origin_price))+" ")]),e("div",{staticClass:"h5"},[t._v(" "+t._s(t._f("currency")(i.price))+" ")])])]),e("div",{staticClass:"card-footer bg-desktop d-md-flex d-none"},[e("button",{staticClass:"btn btn-title btn-block",attrs:{type:"button"},on:{click:function(e){return t.addtoCart(i.id)}}},[e("i",{staticClass:"fas fa-shopping-cart"}),t._v(" 加到購物車 ")])])])])})),0),e("div",{staticClass:"swiper-button-next text-title"}),e("div",{staticClass:"swiper-button-prev text-title"})])])])])],1)},c=[],a=(e("99af"),e("4de4"),e("7db0"),e("ba15")),n=e.n(a),r=(e("f4bd"),{data:function(){return{product:{},discountProducts:[],cart:{},qty:1,isLoading:!1}},methods:{goBack:function(){this.$router.back()},changeQty:function(t){this.qty=t.target.value},addtoCart:function(t){var i=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("owen","/cart");i.isLoading=!0;var s=parseInt(this.qty),c={product_id:t,qty:s};this.$http.post(e,{data:c}).then((function(t){i.$bus.$emit("message:push",t.data.message,"success"),i.isLoading=!1,i.getCart()}))},getCart:function(){var t=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("owen","/cart");this.$http.get(i).then((function(i){t.cart=i.data.data,t.$emit("getCartNum",t.cart.carts.length)}))},changeProduct:function(t){var i=this;window.document.body.scrollTop=0,window.document.documentElement.scrollTop=0,i.$router.push({path:"/product/".concat(t)}),i.getProducts()},getProducts:function(){var t=this,i=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("owen","/products/all");i.isLoading=!0,this.$http.get(e).then((function(e){i.product=e.data.products.find((function(i){if(i.id===t.$route.params.id)return!0})),i.discountProducts=e.data.products.filter((function(t){if(t.origin_price!==t.price&&t.id!==i.product.id)return!0})),i.isLoading=!1}))}},mounted:function(){new n.a(".swiper-container",{direction:"horizontal",slidesPerView:3,spaceBetween:10,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},observer:!0})},created:function(){this.getProducts()}}),o=r,d=(e("8155"),e("2877")),u=Object(d["a"])(o,s,c,!1,null,"6a3e0590",null);i["default"]=u.exports},"7db0":function(t,i,e){"use strict";var s=e("23e7"),c=e("b727").find,a=e("44d2"),n=e("ae40"),r="find",o=!0,d=n(r);r in[]&&Array(1)[r]((function(){o=!1})),s({target:"Array",proto:!0,forced:o||!d},{find:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),a(r)},8155:function(t,i,e){"use strict";var s=e("e453"),c=e.n(s);c.a},8418:function(t,i,e){"use strict";var s=e("c04e"),c=e("9bf2"),a=e("5c6c");t.exports=function(t,i,e){var n=s(i);n in t?c.f(t,n,a(0,e)):t[n]=e}},"99af":function(t,i,e){"use strict";var s=e("23e7"),c=e("d039"),a=e("e8b5"),n=e("861d"),r=e("7b0b"),o=e("50c4"),d=e("8418"),u=e("65f0"),l=e("1dde"),p=e("b622"),f=e("2d00"),v=p("isConcatSpreadable"),h=9007199254740991,g="Maximum allowed index exceeded",b=f>=51||!c((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),_=l("concat"),m=function(t){if(!n(t))return!1;var i=t[v];return void 0!==i?!!i:a(t)},C=!b||!_;s({target:"Array",proto:!0,forced:C},{concat:function(t){var i,e,s,c,a,n=r(this),l=u(n,0),p=0;for(i=-1,s=arguments.length;i<s;i++)if(a=-1===i?n:arguments[i],m(a)){if(c=o(a.length),p+c>h)throw TypeError(g);for(e=0;e<c;e++,p++)e in a&&d(l,p,a[e])}else{if(p>=h)throw TypeError(g);d(l,p++,a)}return l.length=p,l}})},e453:function(t,i,e){}}]);
//# sourceMappingURL=chunk-28e0a145.5c4da61d.js.map