(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7de3f3b2"],{"32d8":function(t,e,i){"use strict";var c=i("bad2"),a=i.n(c);a.a},8418:function(t,e,i){"use strict";var c=i("c04e"),a=i("9bf2"),o=i("5c6c");t.exports=function(t,e,i){var s=c(e);s in t?a.f(t,s,o(0,i)):t[s]=i}},"99af":function(t,e,i){"use strict";var c=i("23e7"),a=i("d039"),o=i("e8b5"),s=i("861d"),r=i("7b0b"),n=i("50c4"),u=i("8418"),d=i("65f0"),l=i("1dde"),h=i("b622"),g=i("2d00"),p=h("isConcatSpreadable"),f=9007199254740991,v="Maximum allowed index exceeded",y=g>=51||!a((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),m=l("concat"),C=function(t){if(!s(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)},b=!y||!m;c({target:"Array",proto:!0,forced:b},{concat:function(t){var e,i,c,a,o,s=r(this),l=d(s,0),h=0;for(e=-1,c=arguments.length;e<c;e++)if(o=-1===e?s:arguments[e],C(o)){if(a=n(o.length),h+a>f)throw TypeError(v);for(i=0;i<a;i++,h++)i in o&&u(l,h,o[i])}else{if(h>=f)throw TypeError(v);u(l,h++,o)}return l.length=h,l}})},b0c0:function(t,e,i){var c=i("83ab"),a=i("9bf2").f,o=Function.prototype,s=o.toString,r=/^\s*function ([^ (]*)/,n="name";c&&!(n in o)&&a(o,n,{configurable:!0,get:function(){try{return s.call(this).match(r)[1]}catch(t){return""}}})},bad2:function(t,e,i){},e6dc:function(t,e,i){"use strict";i.r(e);var c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),i("div",{staticClass:"container-fluid mt-4"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-3 mb-4"},[i("Sidebar",{staticClass:"sticky-top",staticStyle:{top:"67px"},on:{changeCategory:t.setCategory}})],1),i("div",{staticClass:"col-md-9"},[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),i("div",{staticClass:"row"},t._l(t.filterProducts,(function(e){return i("div",{key:e.id,staticClass:"col-lg-4 col-md-6 mb-4"},[i("div",{staticClass:"card border-0 shadow-sm h-100 card-hover"},[i("div",{staticStyle:{cursor:"pointer"},on:{click:function(i){return t.getProduct(e.id)}}},[i("div",{staticClass:"bg-cover",staticStyle:{height:"200px"},style:{backgroundImage:"url("+e.imageUrl+")"}}),i("div",{staticClass:"card-body"},[i("span",{staticClass:"badge badge-desktop text-content p-2 float-right ml-2"},[t._v(t._s(e.category))]),i("h5",{staticClass:"card-title text-dark h4"},[t._v(t._s(e.title))]),i("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[e.price===e.origin_price?i("div",{staticClass:"h5"},[t._v(" "+t._s(t._f("currency")(e.origin_price))+" ")]):t._e(),e.price!==e.origin_price?i("del",{staticClass:"h6 text-del"},[t._v(" "+t._s(t._f("currency")(e.origin_price))+" ")]):t._e(),e.price!==e.origin_price?i("div",{staticClass:"h5"},[t._v(" "+t._s(t._f("currency")(e.price))+" ")]):t._e()])])]),i("div",{staticClass:"card-footer bg-desktop d-flex"},[i("button",{staticClass:"btn btn-title btn-block",attrs:{type:"button"},on:{click:function(i){return t.addtoCart(e.id)}}},[t.status.loadingItem===e.id?i("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),i("i",{staticClass:"fas fa-shopping-cart"}),t._v(" 加到購物車 ")])])])])})),0)],1)])])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"product-banner bg-cover w-100 d-flex justify-content-center align-items-center"},[i("h1",{staticClass:"text-white"},[t._v("商品列表")])])}],o=(i("99af"),i("4de4"),i("b0c0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"list-group text-center"},[i("router-link",{staticClass:"list-group-item list-group-item-action",class:{active:"所有商品"===t.choose},attrs:{to:"/products"},nativeOn:{click:function(e){return t.chooseCategory(e)}}},[t._v("所有商品")]),i("router-link",{staticClass:"list-group-item list-group-item-action",class:{active:"刺身"===t.choose},attrs:{to:{path:"/products",query:{category:"刺身"}}},nativeOn:{click:function(e){return t.chooseCategory(e)}}},[t._v("刺身")]),i("router-link",{staticClass:"list-group-item list-group-item-action",class:{active:"壽司"===t.choose},attrs:{to:{path:"/products",query:{category:"壽司"}}},nativeOn:{click:function(e){return t.chooseCategory(e)}}},[t._v("壽司")]),i("router-link",{staticClass:"list-group-item list-group-item-action",class:{active:"丼飯"===t.choose},attrs:{to:{path:"/products",query:{category:"丼飯"}}},nativeOn:{click:function(e){return t.chooseCategory(e)}}},[t._v("丼飯")])],1)])}),s=[],r={data:function(){return{choose:"所有商品"}},methods:{chooseCategory:function(t){this.choose=t.target.text,this.$emit("changeCategory")}},created:function(){this.$route.query.category&&(this.choose=this.$route.query.category)}},n=r,u=i("2877"),d=Object(u["a"])(n,o,s,!1,null,"37905794",null),l=d.exports,h={components:{Sidebar:l},data:function(){return{products:[],filterProducts:[],product:{},cart:{},isLoading:!1,status:{loadingItem:""},category:"所有商品"}},methods:{setCategory:function(){this.$route.query.category?this.category=this.$route.query.category:this.category="所有商品",this.getProducts()},getProducts:function(){var t=this,e=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("owen","/products/all");e.isLoading=!0,this.$http.get(i).then((function(i){e.products=i.data.products,"所有商品"===e.category?t.filterProducts=t.products:t.filterProducts=t.products.filter((function(t){return t.category===e.category})),e.isLoading=!1}))},getProduct:function(t){var e=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("owen","/product/").concat(t);e.status.loadingItem=t,this.$http.get(i).then((function(t){e.product=t.data.product,e.$router.push({path:"/product/".concat(e.product.id)}),e.status.loadingItem=""}))},addtoCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this,c="".concat("https://vue-course-api.hexschool.io","/api/").concat("owen","/cart");i.status.loadingItem=t;var a={product_id:t,qty:e};this.$http.post(c,{data:a}).then((function(t){i.$bus.$emit("message:push",t.data.message,"success"),i.status.loadingItem="",i.getCart()}))},getCart:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("owen","/cart");this.$http.get(e).then((function(e){t.cart=e.data.data,t.$emit("getCartNum",t.cart.carts.length)}))}},created:function(){this.$emit("sendRoute",this.$route.name),this.setCategory(),this.getCart()}},g=h,p=(i("32d8"),Object(u["a"])(g,c,a,!1,null,"61caf7a5",null));e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-7de3f3b2.da3f3137.js.map