(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13f4b456"],{"0c7c":function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("Alert"),s("Navbar",{attrs:{activeLink:t.route}}),s("div",{staticClass:"row no-gutters"},[s("Sidebar",{staticClass:"col-lg-2",attrs:{activeLink:t.route}}),s("router-view",{staticClass:"px-4 col-lg-10",on:{sendRoute:t.setRoute}})],1)],1)},e=[],n=s("d178"),r=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("nav",{staticClass:" d-none d-lg-block bg-desktop w-100 h-100 py-3"},[s("div",{},[s("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 my-1 text-content"},[t._v("管理員")]),s("ul",{staticClass:"nav flex-column"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link text-title",class:{active:"AdminProducts"===t.activeLink},attrs:{to:"/admin/products"}},[s("i",{staticClass:"fas fa-box-open"}),t._v(" 產品管理 ")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link text-title",class:{active:"AdminCoupon"===t.activeLink},attrs:{to:"/admin/coupon"}},[s("i",{staticClass:"fas fa-ticket-alt"}),t._v(" 優惠卷管理 ")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link text-title",class:{active:"AdminOrder"===t.activeLink},attrs:{to:"/admin/order"}},[s("i",{staticClass:"far fa-list-alt"}),t._v(" 訂單管理 ")])],1)])])]),s("div",{staticClass:"mt-4 d-lg-none"},[s("ul",{staticClass:"nav nav-fill nav-pills"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link text-title",class:{active:"AdminProducts"===t.activeLink},attrs:{to:"/admin/products"}},[s("i",{staticClass:"fas fa-box-open"}),t._v(" 產品管理 ")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link text-title",class:{active:"AdminCoupon"===t.activeLink},attrs:{to:"/admin/coupon"}},[s("i",{staticClass:"fas fa-ticket-alt"}),t._v(" 優惠卷管理 ")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link text-title",class:{active:"AdminOrder"===t.activeLink},attrs:{to:"/admin/order"}},[s("i",{staticClass:"far fa-list-alt"}),t._v(" 訂單管理 ")])],1)])])])},o=[],l=(s("b0c0"),s("1157"),{data:function(){return{}},computed:{activeLink:function(){return this.$store.state.routeName}},created:function(){this.route=this.$route.name}}),c=l,d=(s("5f4f"),s("2877")),u=Object(d["a"])(c,r,o,!1,null,"79f340ae",null),v=u.exports,f=s("56a6"),m={components:{Navbar:n["a"],Sidebar:v,Alert:f["a"]},data:function(){return{route:""}},methods:{setRoute:function(t){this.route=t},signout:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/logout");this.$http.post(a).then((function(a){a.data.success&&t.$router.push("/login")}))}}},p=m,g=Object(d["a"])(p,i,e,!1,null,"671a7cfb",null);a["default"]=g.exports},"4a2f":function(t,a,s){"use strict";var i=s("b1d9"),e=s.n(i);e.a},5563:function(t,a,s){},"56a6":function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"message-alert"},t._l(t.messages,(function(a,i){return s("div",{key:i,staticClass:"alert alert-dismissible",class:"alert-"+a.status},[t._v(" "+t._s(a.message)+" "),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.removeMessage(i)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},e=[],n=(s("4160"),s("a434"),s("159b"),{name:"Navbar",data:function(){return{}},computed:{messages:function(){return this.$store.state.messages}},methods:{updateMessage:function(t,a){this.$store.dispatch("updateMessage",{message:t,status:a})},removeMessage:function(t){this.$store.dispatch("removeMessage",t)},removeMessageWithTiming:function(t){var a=this;setTimeout((function(){a.messages.forEach((function(s,i){s.timestamp===t&&a.messages.splice(i,1)}))}),5e3)}},created:function(){var t=this;this.$bus.$on("message:push",(function(a){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(a,s)}))}}),r=n,o=(s("4a2f"),s("2877")),l=Object(o["a"])(r,i,e,!1,null,null,null);a["a"]=l.exports},"5f4f":function(t,a,s){"use strict";var i=s("5563"),e=s.n(i);e.a},"86fb":function(t,a,s){"use strict";var i=s("9906"),e=s.n(i);e.a},9906:function(t,a,s){},"9d64":function(t,a,s){t.exports=s.p+"img/logo.e8db2109.png"},b1d9:function(t,a,s){},c740:function(t,a,s){"use strict";var i=s("23e7"),e=s("b727").findIndex,n=s("44d2"),r=s("ae40"),o="findIndex",l=!0,c=r(o);o in[]&&Array(1)[o]((function(){l=!1})),i({target:"Array",proto:!0,forced:l||!c},{findIndex:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}}),n(o)},d178:function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("div",{staticClass:"fixed-top"},[t.adIsShow?i("div",{staticClass:"py-1 px-4 text-white bg-title d-flex justify-content-center align-items-center ad-discount"},[t._v(" 想要取得餐點優惠嗎？ "),i("button",{staticClass:"btn btn-outline-light btn-sm ml-4",attrs:{"data-toggle":"modal","data-target":"#adModal"}},[t._v("馬上領取")]),i("a",{staticClass:"text-light close",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.closeAd(a)}}},[i("i",{staticClass:"fas fa-times"})])]):t._e(),i("nav",{staticClass:"navbar navbar-expand-lg bg-light py-1"},[i("div",{staticClass:"container-fluid"},[t._m(0),i("router-link",{staticClass:"logo mr-auto",staticStyle:{height:"45px"},attrs:{to:"/"}},[i("img",{staticClass:"img-fluid h-100",attrs:{src:s("9d64"),alt:""}})]),i("div",{staticClass:"d-lg-none d-flex"},[i("a",{staticClass:"nav-link ml-auto p-2",staticStyle:{position:"relative"},attrs:{href:"#","data-toggle":"modal","data-target":"#favoriteModal"}},[t.favoriteNum>0?i("div",{staticClass:"bg-danger cart-num d-flex justify-content-center align-items-center text-white"},[t._v(t._s(t.favoriteNum))]):t._e(),i("i",{staticClass:"fas fa-thumbs-up fa-2x"})]),i("a",{staticClass:"nav-link ml-auto p-2",staticStyle:{position:"relative"},attrs:{href:"#","data-toggle":"dropdown"}},[t.cartNum>0?i("div",{staticClass:"bg-danger cart-num d-flex justify-content-center align-items-center text-white"},[t._v(t._s(t.cartNum))]):t._e(),i("i",{staticClass:"fas fa-shopping-cart fa-2x"})]),i("div",{staticClass:"dropdown"},[t._m(1),i("div",{staticClass:"dropdown-menu dropdown-menu-right"},[i("router-link",{staticClass:"dropdown-item",class:{active:"AdminProducts"===t.activeLink},attrs:{to:"/admin/products"}},[t._v("商品管理")]),i("router-link",{staticClass:"dropdown-item",class:{active:"AdminCoupon"===t.activeLink},attrs:{to:"/admin/coupon"}},[t._v("優惠卷管理")]),i("router-link",{staticClass:"dropdown-item",class:{active:"AdminOrder"===t.activeLink},attrs:{to:"/admin/order"}},[t._v("訂單管理")]),i("div",{staticClass:"dropdown-divider"}),t.isLogin?i("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.signout(a)}}},[t._v("登出")]):i("router-link",{staticClass:"dropdown-item",attrs:{to:"/login"}},[t._v("登入")])],1)])]),i("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[i("ul",{staticClass:"navbar-nav mr-auto text-center"},[i("li",{staticClass:"nav-item"},[i("router-link",{staticClass:"nav-link header-link",class:{active:"Products"===t.activeLink},attrs:{to:"/products"}},[t._v("美味菜單")])],1),i("li",{staticClass:"nav-item"},[i("router-link",{staticClass:"nav-link header-link",class:{active:"Order"===t.activeLink},attrs:{to:"/order"}},[t._v("我的訂單")])],1)])]),i("div",{staticClass:"d-lg-flex d-none"},[i("a",{staticClass:"nav-link ml-auto p-2",staticStyle:{position:"relative"},attrs:{href:"#","data-toggle":"modal","data-target":"#favoriteModal"}},[t.favoriteNum>0?i("div",{staticClass:"bg-danger cart-num d-flex justify-content-center align-items-center text-white"},[t._v(t._s(t.favoriteNum))]):t._e(),i("i",{staticClass:"fas fa-thumbs-up fa-2x"})]),i("router-link",{staticClass:"nav-link ml-auto p-2",staticStyle:{position:"relative"},attrs:{to:"/cart"}},[t.cartNum>0?i("div",{staticClass:"bg-danger cart-num d-flex justify-content-center align-items-center text-white"},[t._v(t._s(t.cartNum))]):t._e(),i("i",{staticClass:"fas fa-shopping-cart fa-2x"})]),i("div",{staticClass:"dropdown"},[t._m(2),i("div",{staticClass:"dropdown-menu dropdown-menu-right"},[i("router-link",{staticClass:"dropdown-item",class:{active:"AdminProducts"===t.activeLink},attrs:{to:"/admin/products"}},[t._v("商品管理")]),i("router-link",{staticClass:"dropdown-item",class:{active:"AdminCoupon"===t.activeLink},attrs:{to:"/admin/coupon"}},[t._v("優惠卷管理")]),i("router-link",{staticClass:"dropdown-item",class:{active:"AdminOrder"===t.activeLink},attrs:{to:"/admin/order"}},[t._v("訂單管理")]),i("div",{staticClass:"dropdown-divider"}),t.isLogin?i("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.signout(a)}}},[t._v("登出")]):i("router-link",{staticClass:"dropdown-item",attrs:{to:"/login"}},[t._v("登入")])],1)])],1)],1)])]),i("div",{staticClass:"modal fade",attrs:{id:"adModal",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[i("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[t._m(3),!1===t.isValid?i("div",{staticClass:"modal-body p-4"},[t._v(" 立即訂閱我們，請在下方留下您的Email，就不會錯過任何最新消息，並能獲取餐點折扣碼唷！！ "),i("ValidationObserver",{staticClass:"mt-4",attrs:{tag:"form"},on:{submit:function(a){return a.preventDefault(),t.receiveDiscount(a)}},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.invalid;return[i("ValidationProvider",{attrs:{rules:"required",name:"Email"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.failed;a.errors;return[i("input",{directives:[{name:"model",rawName:"v-model",value:t.subscribeEmail,expression:"subscribeEmail"}],staticClass:"form-control",class:{"is-invalid":e},attrs:{type:"email",placeholder:"Email",required:""},domProps:{value:t.subscribeEmail},on:{input:function(a){a.target.composing||(t.subscribeEmail=a.target.value)}}}),e?i("span",{staticClass:"text-danger"},[t._v("必須是有效的電子郵件地址")]):t._e(),i("div",{staticClass:"d-flex justify-content-center"},[i("button",{staticClass:"btn btn-primary mt-4",attrs:{type:"submit",disabled:s},on:{click:function(a){t.isValid=!0}}},[t._v("訂閱")])])]}}],null,!0)})]}}],null,!1,2874720198)})],1):i("div",{staticClass:"modal-body p-4"},[t._v(" 訂閱成功！ 結帳時，請別忘記輸入下方優惠代碼以取得折扣～ "),t._m(4)])])])]),i("div",{staticClass:"modal fade",attrs:{id:"favoriteModal",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[i("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[t._m(5),i("div",{staticClass:"modal-body"},[t.favorite.length?i("div",{staticClass:"table-responsive"},[i("table",{staticClass:"table table-hover"},[i("tbody",t._l(t.favorite,(function(a,s){return i("tr",{staticStyle:{cursor:"pointer"},on:{click:function(s){return t.goProductDetail(a.id)}}},[i("td",{staticClass:"align-middle",attrs:{width:"50"}},[i("button",{staticClass:"btn btn-outline-title btn-sm",on:{click:function(s){return s.stopPropagation(),t.addtoCart(a.id)}}},[i("i",{staticClass:"fas fa-cart-plus"})])]),i("td",{staticClass:"align-middle",attrs:{width:"80"}},[i("img",{staticClass:"img-fluid",attrs:{src:a.imageUrl,alt:"",height:"60",width:"60"}})]),i("td",{staticClass:"align-middle text-truncate"},[t._v(t._s(a.title))]),i("td",{staticClass:"align-middle",attrs:{width:"50"}},[i("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(i){return i.stopPropagation(),t.removeFavorite(a,s)}}},[i("i",{staticClass:"fas fa-trash-alt"})])])])})),0)])]):i("div",{staticClass:"text-center"},[t._v("目前沒有商品喔")])])])])])])},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("button",{staticClass:"navbar-toggler text-title",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("i",{staticClass:"fas fa-bars"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("a",{staticClass:"nav-link p-2",attrs:{href:"#","data-toggle":"dropdown"}},[s("i",{staticClass:"fas fa-cog fa-2x"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("a",{staticClass:"nav-link p-2",attrs:{href:"#",to:"/admin/products","data-toggle":"dropdown"}},[s("i",{staticClass:"fas fa-cog fa-2x"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-header bg-desktop"},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"bg-cover text-dark  couponCode mt-4 p-3"},[s("div",{staticClass:"p-4 h-100 d-flex flex-column justify-content-center",staticStyle:{"background-color":"rgba(255, 255, 255, .5)"}},[s("p",{staticClass:"h3",staticStyle:{"font-weight":"bold"}},[t._v("輸入優惠卷代碼")]),s("p",{staticClass:"h3",staticStyle:{"font-weight":"bold"}},[t._v("「ilovesushi」即享八折優惠")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-header bg-desktop"},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],n=(s("c740"),s("1157")),r=s.n(n),o={data:function(){return{subscribeEmail:"",isValid:!1}},computed:{cart:function(){return this.$store.state.cart},cartNum:function(){if(this.$store.state.cart.carts)return this.$store.state.cart.carts.length},favoriteNum:function(){if(this.$store.state.favorite)return this.$store.state.favorite.length},activeLink:function(){return this.$store.state.routeName},isLogin:function(){return this.$store.state.isLogin},adIsShow:function(){return this.$store.state.adIsShow},favorite:function(){return this.$store.state.favorite}},methods:{goProductDetail:function(t){var a=this.$router;this.$store.dispatch("goProductDetail",{id:t,router:a}),this.$store.dispatch("getProduct",t),r()("#favoriteModal").modal("hide")},signout:function(){this.$store.dispatch("signout",this.$router)},closeAd:function(){this.$store.dispatch("closeAd")},addtoCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("addtoCart",{id:t,qty:a})},removeFavorite:function(t,a){var s=a,i=this.$store.state.products.findIndex((function(a){return a.id===t.id}));this.$store.dispatch("setFavorite",{item:t,favoriteIndex:s,productIndex:i})}},created:function(){this.$store.dispatch("checkLogin")}},l=o,c=(s("86fb"),s("2877")),d=Object(c["a"])(l,i,e,!1,null,"47b785ec",null);a["a"]=d.exports}}]);
//# sourceMappingURL=chunk-13f4b456.1b25fc1d.js.map